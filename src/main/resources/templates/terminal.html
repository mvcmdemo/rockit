  <!doctype html>
  <html>
    <head>
      <link rel="stylesheet" href="lib/xterm/xterm.css" />
      <script src="lib/xterm/xterm.js"></script>
      <script src="lib/xterm/addons/fit/fit.js"></script>
      <script src="lib/socket.io-client/socket.io.js"></script>
      <style type="text/css">
        html, body {
          height: 100%;
          margin: 0;
        }
        .wrapper {
          min-height: 100%;
        }
      </style>
    </head>
    <body >
      <div id="terminal"></div>
      <script>

        // io.on('connection', function(socket){
        //     console.log('a user connected');
        //     socket.on('disconnect', function(){
        //         console.log('user disconnected');
        //     });
        // });

        Terminal.applyAddon(fit);
      	var term = new Terminal();
        term.open(document.getElementById('#terminal'));
        //term.write('Hello from \033[1;3;31mxterm.js\033[0m $ ')
        //term.write('$ ');
        term.focus();
        term.fit();
        term.writeln("Connecting...");
        window.addEventListener('resize', function () {
          term.fit();
        }, false);
        var socket = io('http://localhost:8081/?machine_id=2');

        term.on('data', function (data) {
            socket.emit('data', data);
            // if (data == '\n') {
            //     term.writeln('');
            // }
            // term.write(data);
        })

        socket.on('data', function (data) {
          term.write(data);
        })
        socket.on('error', function (data) {
            term.writeln('\033[1;3;31m' + data + '\033[0m');
            socket.disconnect();
        })

      </script>
    </body>
  </html>